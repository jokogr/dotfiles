#! sh

. "$HOME/.zshenv"

if [ -n "$PS1" ]; then
  if [ -x "`which nvim 2>/dev/null`" ]; then
    VISUAL=nvim
    alias vim='nvim'
    alias vi='nvim'
  elif [ -x "`which vim 2>/dev/null`" ]; then
    VISUAL=vim
    alias vi='vim'
  elif [ -x "`which vi 2>/dev/null`" ]; then
    VISUAL=vi
  fi
  EDITOR="$VISUAL"
  [ ! -x "`which less 2>/dev/null`" ] || PAGER=less
  LESS="FRX#10"

  alias ll='ls -l'
  alias ls='ls -hF --color=auto'
  alias cp='cp -i'
  alias mv='mv -i'

  alias j='jobs'

  alias gst='git status'

  alias verynice='ionice -c3 nice -n 15'

  alias ffwprof='firefox -ProfileManager -no-remote'

  alias socks_start='ssh -D 8123 -fCqN'
  alias socks_stop='pkill -f "ssh -D 8123 -fCqN *"'

  export VISUAL EDITOR PAGER LESS

  export FZF_DEFAULT_COMMAND='pt --hidden --ignore .git -g ""'

fi

. "$HOME/z.sh"
unalias z 2> /dev/null
z() {
  [ $# -gt 0 ] && _z "$*" && return
  cd "$(_z -l 2>&1 | fzf-tmux +s --tac --query "$*" | sed 's/^[0-9,.]* *//')"
}
